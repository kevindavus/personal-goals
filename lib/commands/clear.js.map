{"version":3,"sources":["commands/clear.js"],"names":["path","require","fs","checkConf","confTypes","confAliases","confDir","module","exports","command","aliases","usage","description","builder","yargs","default","handler","argv","type","includes","clear","removeSync","join"],"mappings":";;AACA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,KAAKD,QAAQ,UAAR,CAAX;;eACuDA,QAAQ,UAAR,C;IAA/CE,S,YAAAA,S;IAAWC,S,YAAAA,S;IAAWC,W,YAAAA,W;IAAaC,O,YAAAA,O;;AAE3CC,OAAOC,OAAP,GAAiB;AACfC,WAAS,cADM;AAEfC,WAAS,CAAC,KAAD,CAFM;AAGfC,uCAHe;AAIfC,sCAJe;AAKfC,WAAS,iBAACC,KAAD;AAAA,WACPA,MAAMC,OAAN,CAAc,MAAd,EAAsB,GAAtB,CADO;AAAA,GALM;AAOfC,WAAS,iBAACC,IAAD,EAA4B;AACnCd;;AAEA,QAAIe,aAAJ;AACA,QAAId,UAAUe,QAAV,CAAmBF,KAAKC,IAAxB,CAAJ,EAAmC;AACjCA,aAAOD,KAAKC,IAAZ;AACD,KAFD,MAEO,IAAI,OAAOb,YAAYY,KAAKC,IAAjB,CAAP,KAAkC,QAAtC,EAAgD;AACrDA,aAAOb,YAAYY,KAAKC,IAAjB,CAAP;AACD,KAFM,MAEA;AACL,cAAQD,KAAKC,IAAb;AACE,aAAK,GAAL;AACEA,iBAAO,KAAP;AACA;AACF,aAAK,UAAL;AACA,aAAK,GAAL;AACEA,iBAAO,WAAP;AACA;AACF;AACEA,iBAAOD,KAAKC,IAAZ;AACA;AAVJ;AAYD;AACDE,UAAMF,IAAN;AACD;AA9Bc,CAAjB;;AAiCA,SAASE,KAAT,CAAeF,IAAf,EAA6B;AAC3B,MAAIA,SAAS,KAAb,EAAoB;AAClBhB,OAAGmB,UAAH,CAAcrB,KAAKsB,IAAL,CAAUhB,OAAV,CAAd;AACD,GAFD,MAEO;AACLJ,OAAGmB,UAAH,CAAcrB,KAAKsB,IAAL,CAAUhB,OAAV,EAAmBY,IAAnB,CAAd;AACD;AACF","file":"clear.js","sourcesContent":["//@flow\nconst path = require(\"path\");\nconst fs = require(\"fs-extra\");\nconst { checkConf, confTypes, confAliases, confDir } = require(\"./config\");\n\nmodule.exports = {\n  command: \"clear [type]\",\n  aliases: [\"clr\"],\n  usage: `$0 clear  <w, m, y, o, c, a>`,\n  description: `clear goals of a type`,\n  builder: (yargs: { default: (string, string) => mixed }) =>\n    yargs.default(\"type\", \"a\"),\n  handler: (argv: { type: string }) => {\n    checkConf();\n\n    let type;\n    if (confTypes.includes(argv.type)) {\n      type = argv.type;\n    } else if (typeof confAliases[argv.type] === \"string\") {\n      type = confAliases[argv.type];\n    } else {\n      switch (argv.type) {\n        case \"a\":\n          type = \"all\";\n          break;\n        case \"complete\":\n        case \"c\":\n          type = \"completed\";\n          break;\n        default:\n          type = argv.type;\n          break;\n      }\n    }\n    clear(type);\n  }\n};\n\nfunction clear(type: string) {\n  if (type === \"all\") {\n    fs.removeSync(path.join(confDir));\n  } else {\n    fs.removeSync(path.join(confDir, type));\n  }\n}\n"]}