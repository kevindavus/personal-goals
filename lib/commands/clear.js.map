{"version":3,"sources":["commands/clear.js"],"names":["path","require","fs","checkConf","confTypes","confAliases","confDir","ls","module","exports","command","aliases","usage","description","builder","yargs","default","handler","argv","type","includes","clear","removeSync","join"],"mappings":"AACA,MAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,MAAMC,KAAKD,QAAQ,UAAR,CAAX;AACA,MAAM,EAAEE,SAAF,EAAaC,SAAb,EAAwBC,WAAxB,EAAqCC,OAArC,KAAiDL,QAAQ,UAAR,CAAvD;AACA,MAAM,EAACM,EAAD,KAAON,QAAQ,MAAR,CAAb;;AAEAO,OAAOC,OAAP,GAAiB;AACfC,WAAS,cADM;AAEfC,WAAS,CAAC,KAAD,CAFM;AAGfC,SAAQ,8BAHO;AAIfC,eAAc,uBAJC;AAKfC,WAAUC,KAAD,IACPA,MAAMC,OAAN,CAAc,MAAd,EAAsB,GAAtB,CANa;AAOfC,WAAUC,IAAD,IAA4B;AACnCf;;AAEA,QAAIgB,IAAJ;AACA,QAAIf,UAAUgB,QAAV,CAAmBF,KAAKC,IAAxB,CAAJ,EAAmC;AACjCA,aAAOD,KAAKC,IAAZ;AACD,KAFD,MAEO,IAAI,OAAOd,YAAYa,KAAKC,IAAjB,CAAP,KAAkC,QAAtC,EAAgD;AACrDA,aAAOd,YAAYa,KAAKC,IAAjB,CAAP;AACD,KAFM,MAEA;AACL,cAAQD,KAAKC,IAAb;AACE,aAAK,GAAL;AACEA,iBAAO,KAAP;AACA;AACF,aAAK,UAAL;AACA,aAAK,GAAL;AACEA,iBAAO,WAAP;AACA;AACF;AACEA,iBAAOD,KAAKC,IAAZ;AACA;AAVJ;AAYD;AACDE,UAAMF,IAAN;AACAZ,OAAG,KAAH;AACD;AA/Bc,CAAjB;;AAkCA,SAASc,KAAT,CAAeF,IAAf,EAA6B;AAC3B,MAAIA,SAAS,KAAb,EAAoB;AAClBjB,OAAGoB,UAAH,CAActB,KAAKuB,IAAL,CAAUjB,OAAV,CAAd;AACD,GAFD,MAEO;AACLJ,OAAGoB,UAAH,CAActB,KAAKuB,IAAL,CAAUjB,OAAV,EAAmBa,IAAnB,CAAd;AACD;AACF","file":"clear.js","sourcesContent":["//@flow\nconst path = require(\"path\");\nconst fs = require(\"fs-extra\");\nconst { checkConf, confTypes, confAliases, confDir } = require(\"./config\");\nconst {ls} = require(\"./ls\")\n\nmodule.exports = {\n  command: \"clear [type]\",\n  aliases: [\"clr\"],\n  usage: `$0 clear  <w, m, y, o, c, a>`,\n  description: `clear goals of a type`,\n  builder: (yargs: { default: (string, string) => mixed }) =>\n    yargs.default(\"type\", \"a\"),\n  handler: (argv: { type: string }) => {\n    checkConf();\n\n    let type: string;\n    if (confTypes.includes(argv.type)) {\n      type = argv.type;\n    } else if (typeof confAliases[argv.type] === \"string\") {\n      type = confAliases[argv.type];\n    } else {\n      switch (argv.type) {\n        case \"a\":\n          type = \"all\";\n          break;\n        case \"complete\":\n        case \"c\":\n          type = \"completed\";\n          break;\n        default:\n          type = argv.type;\n          break;\n      }\n    }\n    clear(type);\n    ls(\"all\")\n  }\n};\n\nfunction clear(type: string) {\n  if (type === \"all\") {\n    fs.removeSync(path.join(confDir));\n  } else {\n    fs.removeSync(path.join(confDir, type));\n  }\n}\n"]}